<!DOCTYPE html>
<html>
<head>

	<title>Amoeba</title>

	<style>

	html, body {
		margin: 0;
		width: 100%;
		height: 100%;
		box-sizing: border-box;
		background-color: rgb(235,235,235);
		display: flex;
		justify-content: center;
	}

	* {
		box-sizing: border-box;
	}

	main {
		/*background-color: yellow;*/
		width: 600px;
		height: 600px;
		align-self: center;
	}

	.tile {
		width: 30px;
		height: 30px;
		background-color: rgb(220,220,220);
		float: left;
		border: 1px solid rgb(235,235,235);
		cursor: pointer;
	}


	.line {
		position: relative;
		width: 3px;
		height: 20px;
		transform: rotateZ(45deg);
		background-color: rgb(160, 160, 160);
		display: inline-block;
		top: 5px;
		left: 12px;
	}

	.alt {
		transform: rotateZ(135deg);
		top: 5px;
		left: 9px;
	}

	.circle {
		height: 18px;
		width: 18px;
		background-color: transparent;
		top: 5px;
		left: 5px;
		display: inline-block;
		border-radius: 100%;
		position: relative;
		border: 3px solid rgb(160, 160, 160);;
	}

	</style>

</head>
<body>


	<main>

<span class="tile" id="1">1</span>
<span class="tile" id="2">2</span>
<span class="tile" id="3">3</span>
<span class="tile" id="4">4</span>
<span class="tile" id="5">5</span>
<span class="tile" id="6">6</span>
<span class="tile" id="7">7</span>
<span class="tile" id="8">8</span>
<span class="tile" id="9">9</span>
<span class="tile" id="10">10</span>
<span class="tile" id="11">11</span>
<span class="tile" id="12">12</span>
<span class="tile" id="13">13</span>
<span class="tile" id="14">14</span>
<span class="tile" id="15">15</span>
<span class="tile" id="16">16</span>
<span class="tile" id="17">17</span>
<span class="tile" id="18">18</span>
<span class="tile" id="19">19</span>
<span class="tile" id="20">20</span>
<span class="tile" id="21">21</span>
<span class="tile" id="22">22</span>
<span class="tile" id="23">23</span>
<span class="tile" id="24">24</span>
<span class="tile" id="25">25</span>
<span class="tile" id="26">26</span>
<span class="tile" id="27">27</span>
<span class="tile" id="28">28</span>
<span class="tile" id="29">29</span>
<span class="tile" id="30">30</span>
<span class="tile" id="31">31</span>
<span class="tile" id="32">32</span>
<span class="tile" id="33">33</span>
<span class="tile" id="34">34</span>
<span class="tile" id="35">35</span>
<span class="tile" id="36">36</span>
<span class="tile" id="37">37</span>
<span class="tile" id="38">38</span>
<span class="tile" id="39">39</span>
<span class="tile" id="40">40</span>
<span class="tile" id="41">41</span>
<span class="tile" id="42">42</span>
<span class="tile" id="43">43</span>
<span class="tile" id="44">44</span>
<span class="tile" id="45">45</span>
<span class="tile" id="46">46</span>
<span class="tile" id="47">47</span>
<span class="tile" id="48">48</span>
<span class="tile" id="49">49</span>
<span class="tile" id="50">50</span>
<span class="tile" id="51">51</span>
<span class="tile" id="52">52</span>
<span class="tile" id="53">53</span>
<span class="tile" id="54">54</span>
<span class="tile" id="55">55</span>
<span class="tile" id="56">56</span>
<span class="tile" id="57">57</span>
<span class="tile" id="58">58</span>
<span class="tile" id="59">59</span>
<span class="tile" id="60">60</span>
<span class="tile" id="61">61</span>
<span class="tile" id="62">62</span>
<span class="tile" id="63">63</span>
<span class="tile" id="64">64</span>
<span class="tile" id="65">65</span>
<span class="tile" id="66">66</span>
<span class="tile" id="67">67</span>
<span class="tile" id="68">68</span>
<span class="tile" id="69">69</span>
<span class="tile" id="70">70</span>
<span class="tile" id="71">71</span>
<span class="tile" id="72">72</span>
<span class="tile" id="73">73</span>
<span class="tile" id="74">74</span>
<span class="tile" id="75">75</span>
<span class="tile" id="76">76</span>
<span class="tile" id="77">77</span>
<span class="tile" id="78">78</span>
<span class="tile" id="79">79</span>
<span class="tile" id="80">80</span>
<span class="tile" id="81">81</span>
<span class="tile" id="82">82</span>
<span class="tile" id="83">83</span>
<span class="tile" id="84">84</span>
<span class="tile" id="85">85</span>
<span class="tile" id="86">86</span>
<span class="tile" id="87">87</span>
<span class="tile" id="88">88</span>
<span class="tile" id="89">89</span>
<span class="tile" id="90">90</span>
<span class="tile" id="91">91</span>
<span class="tile" id="92">92</span>
<span class="tile" id="93">93</span>
<span class="tile" id="94">94</span>
<span class="tile" id="95">95</span>
<span class="tile" id="96">96</span>
<span class="tile" id="97">97</span>
<span class="tile" id="98">98</span>
<span class="tile" id="99">99</span>
<span class="tile" id="100">100</span>
<span class="tile" id="101">101</span>
<span class="tile" id="102">102</span>
<span class="tile" id="103">103</span>
<span class="tile" id="104">104</span>
<span class="tile" id="105">105</span>
<span class="tile" id="106">106</span>
<span class="tile" id="107">107</span>
<span class="tile" id="108">108</span>
<span class="tile" id="109">109</span>
<span class="tile" id="110">110</span>
<span class="tile" id="111">111</span>
<span class="tile" id="112">112</span>
<span class="tile" id="113">113</span>
<span class="tile" id="114">114</span>
<span class="tile" id="115">115</span>
<span class="tile" id="116">116</span>
<span class="tile" id="117">117</span>
<span class="tile" id="118">118</span>
<span class="tile" id="119">119</span>
<span class="tile" id="120">120</span>
<span class="tile" id="121">121</span>
<span class="tile" id="122">122</span>
<span class="tile" id="123">123</span>
<span class="tile" id="124">124</span>
<span class="tile" id="125">125</span>
<span class="tile" id="126">126</span>
<span class="tile" id="127">127</span>
<span class="tile" id="128">128</span>
<span class="tile" id="129">129</span>
<span class="tile" id="130">130</span>
<span class="tile" id="131">131</span>
<span class="tile" id="132">132</span>
<span class="tile" id="133">133</span>
<span class="tile" id="134">134</span>
<span class="tile" id="135">135</span>
<span class="tile" id="136">136</span>
<span class="tile" id="137">137</span>
<span class="tile" id="138">138</span>
<span class="tile" id="139">139</span>
<span class="tile" id="140">140</span>
<span class="tile" id="141">141</span>
<span class="tile" id="142">142</span>
<span class="tile" id="143">143</span>
<span class="tile" id="144">144</span>
<span class="tile" id="145">145</span>
<span class="tile" id="146">146</span>
<span class="tile" id="147">147</span>
<span class="tile" id="148">148</span>
<span class="tile" id="149">149</span>
<span class="tile" id="150">150</span>
<span class="tile" id="151">151</span>
<span class="tile" id="152">152</span>
<span class="tile" id="153">153</span>
<span class="tile" id="154">154</span>
<span class="tile" id="155">155</span>
<span class="tile" id="156">156</span>
<span class="tile" id="157">157</span>
<span class="tile" id="158">158</span>
<span class="tile" id="159">159</span>
<span class="tile" id="160">160</span>
<span class="tile" id="161">161</span>
<span class="tile" id="162">162</span>
<span class="tile" id="163">163</span>
<span class="tile" id="164">164</span>
<span class="tile" id="165">165</span>
<span class="tile" id="166">166</span>
<span class="tile" id="167">167</span>
<span class="tile" id="168">168</span>
<span class="tile" id="169">169</span>
<span class="tile" id="170">170</span>
<span class="tile" id="171">171</span>
<span class="tile" id="172">172</span>
<span class="tile" id="173">173</span>
<span class="tile" id="174">174</span>
<span class="tile" id="175">175</span>
<span class="tile" id="176">176</span>
<span class="tile" id="177">177</span>
<span class="tile" id="178">178</span>
<span class="tile" id="179">179</span>
<span class="tile" id="180">180</span>
<span class="tile" id="181">181</span>
<span class="tile" id="182">182</span>
<span class="tile" id="183">183</span>
<span class="tile" id="184">184</span>
<span class="tile" id="185">185</span>
<span class="tile" id="186">186</span>
<span class="tile" id="187">187</span>
<span class="tile" id="188">188</span>
<span class="tile" id="189">189</span>
<span class="tile" id="190">190</span>
<span class="tile" id="191">191</span>
<span class="tile" id="192">192</span>
<span class="tile" id="193">193</span>
<span class="tile" id="194">194</span>
<span class="tile" id="195">195</span>
<span class="tile" id="196">196</span>
<span class="tile" id="197">197</span>
<span class="tile" id="198">198</span>
<span class="tile" id="199">199</span>
<span class="tile" id="200">200</span>
<span class="tile" id="201">201</span>
<span class="tile" id="202">202</span>
<span class="tile" id="203">203</span>
<span class="tile" id="204">204</span>
<span class="tile" id="205">205</span>
<span class="tile" id="206">206</span>
<span class="tile" id="207">207</span>
<span class="tile" id="208">208</span>
<span class="tile" id="209">209</span>
<span class="tile" id="210">210</span>
<span class="tile" id="211">211</span>
<span class="tile" id="212">212</span>
<span class="tile" id="213">213</span>
<span class="tile" id="214">214</span>
<span class="tile" id="215">215</span>
<span class="tile" id="216">216</span>
<span class="tile" id="217">217</span>
<span class="tile" id="218">218</span>
<span class="tile" id="219">219</span>
<span class="tile" id="220">220</span>
<span class="tile" id="221">221</span>
<span class="tile" id="222">222</span>
<span class="tile" id="223">223</span>
<span class="tile" id="224">224</span>
<span class="tile" id="225">225</span>
<span class="tile" id="226">226</span>
<span class="tile" id="227">227</span>
<span class="tile" id="228">228</span>
<span class="tile" id="229">229</span>
<span class="tile" id="230">230</span>
<span class="tile" id="231">231</span>
<span class="tile" id="232">232</span>
<span class="tile" id="233">233</span>
<span class="tile" id="234">234</span>
<span class="tile" id="235">235</span>
<span class="tile" id="236">236</span>
<span class="tile" id="237">237</span>
<span class="tile" id="238">238</span>
<span class="tile" id="239">239</span>
<span class="tile" id="240">240</span>
<span class="tile" id="241">241</span>
<span class="tile" id="242">242</span>
<span class="tile" id="243">243</span>
<span class="tile" id="244">244</span>
<span class="tile" id="245">245</span>
<span class="tile" id="246">246</span>
<span class="tile" id="247">247</span>
<span class="tile" id="248">248</span>
<span class="tile" id="249">249</span>
<span class="tile" id="250">250</span>
<span class="tile" id="251">251</span>
<span class="tile" id="252">252</span>
<span class="tile" id="253">253</span>
<span class="tile" id="254">254</span>
<span class="tile" id="255">255</span>
<span class="tile" id="256">256</span>
<span class="tile" id="257">257</span>
<span class="tile" id="258">258</span>
<span class="tile" id="259">259</span>
<span class="tile" id="260">260</span>
<span class="tile" id="261">261</span>
<span class="tile" id="262">262</span>
<span class="tile" id="263">263</span>
<span class="tile" id="264">264</span>
<span class="tile" id="265">265</span>
<span class="tile" id="266">266</span>
<span class="tile" id="267">267</span>
<span class="tile" id="268">268</span>
<span class="tile" id="269">269</span>
<span class="tile" id="270">270</span>
<span class="tile" id="271">271</span>
<span class="tile" id="272">272</span>
<span class="tile" id="273">273</span>
<span class="tile" id="274">274</span>
<span class="tile" id="275">275</span>
<span class="tile" id="276">276</span>
<span class="tile" id="277">277</span>
<span class="tile" id="278">278</span>
<span class="tile" id="279">279</span>
<span class="tile" id="280">280</span>
<span class="tile" id="281">281</span>
<span class="tile" id="282">282</span>
<span class="tile" id="283">283</span>
<span class="tile" id="284">284</span>
<span class="tile" id="285">285</span>
<span class="tile" id="286">286</span>
<span class="tile" id="287">287</span>
<span class="tile" id="288">288</span>
<span class="tile" id="289">289</span>
<span class="tile" id="290">290</span>
<span class="tile" id="291">291</span>
<span class="tile" id="292">292</span>
<span class="tile" id="293">293</span>
<span class="tile" id="294">294</span>
<span class="tile" id="295">295</span>
<span class="tile" id="296">296</span>
<span class="tile" id="297">297</span>
<span class="tile" id="298">298</span>
<span class="tile" id="299">299</span>
<span class="tile" id="300">300</span>
<span class="tile" id="301">301</span>
<span class="tile" id="302">302</span>
<span class="tile" id="303">303</span>
<span class="tile" id="304">304</span>
<span class="tile" id="305">305</span>
<span class="tile" id="306">306</span>
<span class="tile" id="307">307</span>
<span class="tile" id="308">308</span>
<span class="tile" id="309">309</span>
<span class="tile" id="310">310</span>
<span class="tile" id="311">311</span>
<span class="tile" id="312">312</span>
<span class="tile" id="313">313</span>
<span class="tile" id="314">314</span>
<span class="tile" id="315">315</span>
<span class="tile" id="316">316</span>
<span class="tile" id="317">317</span>
<span class="tile" id="318">318</span>
<span class="tile" id="319">319</span>
<span class="tile" id="320">320</span>
<span class="tile" id="321">321</span>
<span class="tile" id="322">322</span>
<span class="tile" id="323">323</span>
<span class="tile" id="324">324</span>
<span class="tile" id="325">325</span>
<span class="tile" id="326">326</span>
<span class="tile" id="327">327</span>
<span class="tile" id="328">328</span>
<span class="tile" id="329">329</span>
<span class="tile" id="330">330</span>
<span class="tile" id="331">331</span>
<span class="tile" id="332">332</span>
<span class="tile" id="333">333</span>
<span class="tile" id="334">334</span>
<span class="tile" id="335">335</span>
<span class="tile" id="336">336</span>
<span class="tile" id="337">337</span>
<span class="tile" id="338">338</span>
<span class="tile" id="339">339</span>
<span class="tile" id="340">340</span>
<span class="tile" id="341">341</span>
<span class="tile" id="342">342</span>
<span class="tile" id="343">343</span>
<span class="tile" id="344">344</span>
<span class="tile" id="345">345</span>
<span class="tile" id="346">346</span>
<span class="tile" id="347">347</span>
<span class="tile" id="348">348</span>
<span class="tile" id="349">349</span>
<span class="tile" id="350">350</span>
<span class="tile" id="351">351</span>
<span class="tile" id="352">352</span>
<span class="tile" id="353">353</span>
<span class="tile" id="354">354</span>
<span class="tile" id="355">355</span>
<span class="tile" id="356">356</span>
<span class="tile" id="357">357</span>
<span class="tile" id="358">358</span>
<span class="tile" id="359">359</span>
<span class="tile" id="360">360</span>
<span class="tile" id="361">361</span>
<span class="tile" id="362">362</span>
<span class="tile" id="363">363</span>
<span class="tile" id="364">364</span>
<span class="tile" id="365">365</span>
<span class="tile" id="366">366</span>
<span class="tile" id="367">367</span>
<span class="tile" id="368">368</span>
<span class="tile" id="369">369</span>
<span class="tile" id="370">370</span>
<span class="tile" id="371">371</span>
<span class="tile" id="372">372</span>
<span class="tile" id="373">373</span>
<span class="tile" id="374">374</span>
<span class="tile" id="375">375</span>
<span class="tile" id="376">376</span>
<span class="tile" id="377">377</span>
<span class="tile" id="378">378</span>
<span class="tile" id="379">379</span>
<span class="tile" id="380">380</span>
<span class="tile" id="381">381</span>
<span class="tile" id="382">382</span>
<span class="tile" id="383">383</span>
<span class="tile" id="384">384</span>
<span class="tile" id="385">385</span>
<span class="tile" id="386">386</span>
<span class="tile" id="387">387</span>
<span class="tile" id="388">388</span>
<span class="tile" id="389">389</span>
<span class="tile" id="390">390</span>
<span class="tile" id="391">391</span>
<span class="tile" id="392">392</span>
<span class="tile" id="393">393</span>
<span class="tile" id="394">394</span>
<span class="tile" id="395">395</span>
<span class="tile" id="396">396</span>
<span class="tile" id="397">397</span>
<span class="tile" id="398">398</span>
<span class="tile" id="399">399</span>
<span class="tile" id="400">400</span>



	</main>

</body>

<script src="jquery-2.2.1.min.js"></script>
<script>

	var isGameOver = false;
	var isMyTurn = false;
	var x = '<span class="line"></span><span class="line alt"></span>';
	var o = '<span class="circle"></span>';
	var table = [
		null,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0		
	]

	const tableSize = 400;			

	$(".tile").on("click", function() {

		var $this = $(this);
		var  id = $this.attr("id");
		var isOccupied = $this.hasClass("occupied");

		if (isGameOver) {
			resetGame();
		} else {
			
			if (!isOccupied) {

				if (!isMyTurn) {
					$this.append(x);
					$("#" + id).addClass("occupied");
					table[id] = 1;
					isMyTurn = !isMyTurn;
					AI();
				}

			} 
			
		}

	})

	function resetGame() {
		isGameOver = false;
		console.log("Reset Game");
	}

	function AI() {

		console.log("AI")

		if ( isOver() ) return;

		var isOccupied = true;

		while (isOccupied) {

			var rand = randomize(1, tableSize);
			// Pattern Check

			if ( (table[rand]) == 0 ) {

				$this = $("#" + rand);
				$this.addClass("occupied");
				$this.append(o);
				isMyTurn = !isMyTurn;
				isOccupied = false;
				table[rand] = 2;
				console.log("Choose")

			} else {
				console.log("Collison");
			}

		}

		//if ( isOver() ) return;

	}


	function randomize(min, max) {

		return Math.floor(Math.random() * max) + min 

	}

	function isOver () {

		var isFull = false;
		var isWon = false;

		/* Vertical */

		for (var i = 1; i <= 20; i++) {
			var row = "";
			var start = i;
			for (var j = 0; j < 20; j++) {
				var tableI = j * 20 + start;
				//row += table[tableI] + "|";
				row += tableI + "|";
			}
			console.log("Column: " + i + " - " + row);
		}

		/* Horizontal */

		for (var i = 1; i <= 381; i += 20) {
			var row = "";
			for (var j = 0; j < 20; j++) {
				var tableI = i + j;
				row += tableI + "|";
			}
			console.log("Row: " + i + " - " + row);
		}

		/* Diagonal 1 */

		for (var i = 5; i <= 20; i++) {

			var row = "";
			for (var j = 1; j <= i; j++) {
				var tableIndex = ( j - 1 ) * 19 + i;
				row += tableIndex + "|";
			}

			console.log("Diagonal 1, Line " + i + " - " + row);

		}

		/* Diagonal 2 */

		for (var i = 381; i <= 396; i++) {

			var row = "";
			var till = 400-i+1
			for (var j = 0; j < till; j++) {
				var tableIndex =  i - ( 19 * j) ;
				row += tableIndex + "|";
			}

			console.log("Diagonal 2 Line " + i + " - " + row);

		}

		/* Diagonal 3 */

		for (var i = 1; i <= 16; i++) {

			var row = "";
			var till = 20 - i + 1 //
			for (var j = 1; j <= till; j++) {
				var tableIndex = ( j - 1 ) * 21 + i;
				//var tableIndex =  i - ( 21 * j) ;
				row += tableIndex + "|";
			}

			console.log("Diagonal 3, Line " + i + " - " + row);

		}

		/* Diagonal 4 */

		for (var i = 385; i <= 400; i++) {

			var row = "";
			var till = i-400+20;
			for (var j = 0; j < till; j++) {
				var tableIndex =  i - ( 21 * j) ;
				row += tableIndex + "|";
			}

			console.log("Diagonal 2 Line " + i + " - " + row);

		}

		return false;

	}

</script>

</html>